/* ==========================================================================
   BookBuddy — Design System & Global Styles
   Modern SaaS dashboard aesthetic: soft gradients, generous whitespace,
   rounded cards, pill buttons, strong typography, subtle shadows.
   ========================================================================== */

/* ==================== 1. Design Tokens (CSS Variables) ==================== */
:root {
    /* — Primary palette (indigo) — */
    --c-primary:        #4a4080;
    --c-primary-hover:  #3d3570;
    --c-primary-light:  rgba(74,64,128,.08);
    --c-primary-dark:   #2e2860;

    --c-accent:         #bf9b5a;
    --c-accent-hover:   #a07830;
    --c-accent-light:   rgba(191,155,90,.10);

    /* — Semantic — */
    --c-danger:         #ef4444;
    --c-danger-hover:   #dc2626;
    --c-success:        #3db878;

    /* — Neutrals (warm) — */
    --c-text:           #1e1b2e;
    --c-text-secondary: #6b6580;
    --c-text-muted:     #9a9090;
    --c-text-light:     #c4bdb5;

    --c-bg:             #f4f2ef;
    --c-surface:        #ffffff;
    --c-subtle:         rgba(210,200,185,.20);
    --c-border:         #d2c8b9;
    --c-border-light:   rgba(210,200,185,.45);

    /* — Gradient shortcuts — */
    --grad-primary:     linear-gradient(135deg, #4a4080 0%, #6558a6 45%, #bf9b5a 100%);
    --grad-hero:        linear-gradient(135deg, #4a4080 0%, #6558a6 35%, #bf9b5a 100%);
    --grad-text:        linear-gradient(135deg, #6558a6, #bf9b5a);

    /* — Spacing scale — */
    --sp-1:  0.25rem;   /* 4px  */
    --sp-2:  0.5rem;    /* 8px  */
    --sp-3:  0.75rem;   /* 12px */
    --sp-4:  1rem;      /* 16px */
    --sp-5:  1.25rem;   /* 20px */
    --sp-6:  1.5rem;    /* 24px */
    --sp-8:  2rem;      /* 32px */
    --sp-10: 2.5rem;    /* 40px */
    --sp-12: 3rem;      /* 48px */
    --sp-16: 4rem;      /* 64px */
    --sp-20: 5rem;      /* 80px */

    /* — Radius scale — */
    --r-sm:   6px;
    --r-md:   10px;
    --r-lg:   14px;
    --r-xl:   16px;
    --r-2xl:  20px;
    --r-full: 9999px;

    /* — Shadow scale — */
    --sh-xs:  0 1px 2px rgba(30,27,46,.04);
    --sh-sm:  0 4px 14px rgba(30,27,46,.05);
    --sh-md:  0 6px 16px rgba(30,27,46,.07);
    --sh-lg:  0 10px 30px rgba(30,27,46,.08);
    --sh-xl:  0 16px 48px rgba(30,27,46,.10);
    --sh-card-hover: 0 14px 40px rgba(74,64,128,.10);

    /* — Header / Navbar — */
    --header-bg:      rgba(255,255,255,.72);
    --header-border:  rgba(74,64,128,.10);
    --header-shadow:  0 1px 8px rgba(30,27,46,.06), 0 4px 24px rgba(74,64,128,.04);

    /* — Typography — */
    --font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
            'Helvetica Neue', Arial, sans-serif;

    --fs-xs:   0.75rem;   /* 12px */
    --fs-sm:   0.8125rem; /* 13px */
    --fs-base: 0.9375rem; /* 15px */
    --fs-md:   1rem;      /* 16px */
    --fs-lg:   1.125rem;  /* 18px */
    --fs-xl:   1.25rem;   /* 20px */
    --fs-2xl:  1.5rem;    /* 24px */
    --fs-3xl:  2rem;      /* 32px */
    --fs-4xl:  2.75rem;   /* 44px */
    --fs-5xl:  3.25rem;   /* 52px */

    --fw-normal:   400;
    --fw-medium:   500;
    --fw-semibold: 600;
    --fw-bold:     700;
    --fw-extrabold:800;

    /* — Layout — */
    --container-max: 1140px;
    --container-pad: 1.25rem;
    --navbar-h:      64px;

    /* — Transitions — */
    --ease: cubic-bezier(.4,0,.2,1);
    --t-fast: 150ms var(--ease);
    --t-base: 250ms var(--ease);
    --t-slow: 400ms var(--ease);
}

/* ==================== 1b. Dark Theme Overrides ==================== */

/* Explicit dark via data-theme attribute */
[data-theme="dark"] {
    --c-text:           #e0dce8;
    --c-text-secondary: #a09ab0;
    --c-text-muted:     #6b6580;
    --c-text-light:     #504a65;

    --c-bg:             #161220;
    --c-surface:        #221e30;
    --c-subtle:         #302a42;
    --c-border:         #3a3450;
    --c-border-light:   rgba(58,52,80,.55);

    --c-primary-light:  rgba(74,64,128,.18);
    --c-accent-light:   rgba(191,155,90,.14);

    --header-bg:      rgba(22,18,32,.82);
    --header-border:  rgba(90,78,150,.18);
    --header-shadow:  0 1px 8px rgba(0,0,0,.28), 0 4px 24px rgba(0,0,0,.18);

    --sh-xs:  0 1px 2px rgba(0,0,0,.22);
    --sh-sm:  0 4px 14px rgba(0,0,0,.28);
    --sh-md:  0 6px 16px rgba(0,0,0,.32);
    --sh-lg:  0 10px 30px rgba(0,0,0,.34);
    --sh-xl:  0 16px 48px rgba(0,0,0,.38);
    --sh-card-hover: 0 14px 40px rgba(74,64,128,.14);

    color-scheme: dark;
}

/* Explicit light (keeps defaults, but sets color-scheme) */
[data-theme="light"] {
    color-scheme: light;
}

/* System preference dark (when no data-theme is set) */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        --c-text:           #e0dce8;
        --c-text-secondary: #a09ab0;
        --c-text-muted:     #6b6580;
        --c-text-light:     #504a65;

        --c-bg:             #161220;
        --c-surface:        #221e30;
        --c-subtle:         #302a42;
        --c-border:         #3a3450;
        --c-border-light:   rgba(58,52,80,.55);

        --c-primary-light:  rgba(74,64,128,.18);
        --c-accent-light:   rgba(191,155,90,.14);

        --header-bg:      rgba(22,18,32,.82);
        --header-border:  rgba(90,78,150,.18);
        --header-shadow:  0 1px 8px rgba(0,0,0,.28), 0 4px 24px rgba(0,0,0,.18);

        --sh-xs:  0 1px 2px rgba(0,0,0,.22);
        --sh-sm:  0 4px 14px rgba(0,0,0,.28);
        --sh-md:  0 6px 16px rgba(0,0,0,.32);
        --sh-lg:  0 10px 30px rgba(0,0,0,.34);
        --sh-xl:  0 16px 48px rgba(0,0,0,.38);
        --sh-card-hover: 0 14px 40px rgba(74,64,128,.14);

        color-scheme: dark;
    }
}

/* ---- Dark component-level overrides (shared selector) ---- */
/* We use a helper: both selectors produce the same result. */
[data-theme="dark"] .blob--1,
[data-theme="dark"] .blob--2{opacity:.15}
[data-theme="dark"] .blob--3{background:#1e1630;opacity:.18}

[data-theme="dark"] .pill--reading{background:rgba(74,64,128,.18);color:#b0a4d4}
[data-theme="dark"] .pill--finished{background:rgba(61,184,120,.15);color:#6ee7a0}
[data-theme="dark"] .pill--wishlist{background:rgba(191,155,90,.15);color:#e0c080}

[data-theme="dark"] .stat-card__icon--progress{background:rgba(74,64,128,.18);color:#b0a4d4}

[data-theme="dark"] .streak-card__icon{background:rgba(191,155,90,.15)}
[data-theme="dark"] .challenge-card__icon--streak{background:rgba(191,155,90,.15)}

[data-theme="dark"] .top-book-item:nth-child(1) .top-book-item__rank{background:rgba(191,155,90,.15);color:#e0c080}
[data-theme="dark"] .top-book-item:nth-child(2) .top-book-item__rank{background:rgba(160,154,176,.15);color:#a09ab0}
[data-theme="dark"] .top-book-item:nth-child(3) .top-book-item__rank{background:rgba(180,100,100,.15);color:#e0a0a0}

[data-theme="dark"] .modal-overlay{background:rgba(0,0,0,.55)}

[data-theme="dark"] .navbar.is-open .navbar__links,
[data-theme="dark"] .navbar.is-open .navbar__actions{background:var(--c-surface)}

/* Same overrides via system preference */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) .blob--1,
    :root:not([data-theme]) .blob--2{opacity:.15}
    :root:not([data-theme]) .blob--3{background:#1e1630;opacity:.18}

    :root:not([data-theme]) .pill--reading{background:rgba(74,64,128,.18);color:#b0a4d4}
    :root:not([data-theme]) .pill--finished{background:rgba(61,184,120,.15);color:#6ee7a0}
    :root:not([data-theme]) .pill--wishlist{background:rgba(191,155,90,.15);color:#e0c080}

    :root:not([data-theme]) .stat-card__icon--progress{background:rgba(74,64,128,.18);color:#b0a4d4}

    :root:not([data-theme]) .streak-card__icon{background:rgba(191,155,90,.15)}
    :root:not([data-theme]) .challenge-card__icon--streak{background:rgba(191,155,90,.15)}

    :root:not([data-theme]) .top-book-item:nth-child(1) .top-book-item__rank{background:rgba(191,155,90,.15);color:#e0c080}
    :root:not([data-theme]) .top-book-item:nth-child(2) .top-book-item__rank{background:rgba(160,154,176,.15);color:#a09ab0}
    :root:not([data-theme]) .top-book-item:nth-child(3) .top-book-item__rank{background:rgba(180,100,100,.15);color:#e0a0a0}

    :root:not([data-theme]) .modal-overlay{background:rgba(0,0,0,.55)}

    :root:not([data-theme]) .navbar.is-open .navbar__links,
    :root:not([data-theme]) .navbar.is-open .navbar__actions{background:var(--c-surface)}
}

/* ==================== 2. Reset ==================== */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}

@media(prefers-reduced-motion:reduce){
    html{scroll-behavior:auto}
    *,*::before,*::after{animation-duration:.01ms!important;transition-duration:.01ms!important}
}

body{
    font-family:var(--font);
    font-size:var(--fs-base);
    line-height:1.6;
    color:var(--c-text);
    background:var(--c-bg);
    min-height:100vh;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
    position:relative;
}

img,svg{display:block;max-width:100%}
a{color:inherit;text-decoration:none}
button{font:inherit;cursor:pointer}
ul{list-style:none}

/* Focus-visible global */
:focus-visible{
    outline:2px solid var(--c-primary);
    outline-offset:2px;
    border-radius:var(--r-sm);
}

/* ==================== 3. Utility / Layout ==================== */
.container{
    width:100%;
    max-width:var(--container-max);
    margin:0 auto;
    padding-inline:var(--container-pad);
}

.gradient-text{
    background:var(--grad-text);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
}

.section-title{
    font-size:clamp(var(--fs-2xl), 4vw, var(--fs-3xl));
    font-weight:var(--fw-bold);
    color:var(--c-text);
    letter-spacing:-.02em;
    margin-bottom:var(--sp-2);
}

.section-subtitle{
    font-size:var(--fs-md);
    color:var(--c-text-secondary);
    max-width:520px;
    line-height:1.6;
}

.required{color:var(--c-danger);font-weight:var(--fw-bold)}

/* ==================== 4. Background Blobs ==================== */
.bg-blobs{
    position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden;
    
    /* Subtle circular ring backgrounds (behind blur blobs) */
    background-repeat:no-repeat;
    background-image:
        /* Big indigo ring top-right */
        radial-gradient(circle at 88% 12%,
            transparent 0,
            transparent 320px,
            rgba(74,64,128,0.10) 320px,
            rgba(74,64,128,0.10) 323px,
            transparent 323px,
            transparent 100%
        ),
        /* Medium violet ring mid-right */
        radial-gradient(circle at 92% 55%,
            transparent 0,
            transparent 220px,
            rgba(124,58,237,0.07) 220px,
            rgba(124,58,237,0.07) 222px,
            transparent 222px,
            transparent 100%
        ),
        /* Soft gold filled circle bottom-left */
        radial-gradient(circle at 10% 82%,
            rgba(191,155,90,0.08) 0,
            rgba(191,155,90,0.04) 220px,
            transparent 420px
        );
}
.blob{
    position:absolute;border-radius:50%;filter:blur(90px);opacity:.35;
}
.blob--1{width:420px;height:420px;background:rgba(74,64,128,.12);top:-60px;right:-100px}
.blob--2{width:350px;height:350px;background:rgba(191,155,90,.08);bottom:10%;left:-80px}
.blob--3{width:280px;height:280px;background:rgba(120,90,60,.06);top:55%;right:5%}

/* ==================== 5. Navbar ==================== */
.navbar{
    position:sticky;top:0;z-index:1000;
    background:var(--header-bg);
    backdrop-filter:blur(16px) saturate(1.2);-webkit-backdrop-filter:blur(16px) saturate(1.2);
    border-bottom:1px solid var(--header-border);
    box-shadow:var(--header-shadow);
}
.navbar__inner{
    display:flex;align-items:center;gap:var(--sp-6);
    height:var(--navbar-h);
}
.navbar__brand{
    display:flex;align-items:center;gap:var(--sp-2);
    font-size:var(--fs-xl);font-weight:var(--fw-bold);
    color:var(--c-text);white-space:nowrap;
    flex-shrink:0;
}
.navbar__logo-icon{
    color:var(--c-primary);
}
.navbar__links{
    display:flex;gap:var(--sp-6);margin-left:auto;
}
.navbar__link{
    font-size:var(--fs-sm);font-weight:var(--fw-medium);
    color:var(--c-text-secondary);
    transition:color var(--t-fast);
    padding:var(--sp-1) 0;
    position:relative;
}
.navbar__link::after{
    content:'';position:absolute;bottom:-2px;left:0;right:0;
    height:2px;background:var(--grad-primary);
    transform:scaleX(0);transform-origin:left;
    transition:transform var(--t-base);border-radius:1px;
}
.navbar__link:hover{color:var(--c-text)}
.navbar__link:hover::after{transform:scaleX(1)}
.navbar__actions{
    margin-left:var(--sp-6);flex-shrink:0;
}

/* Mobile hamburger (hidden on desktop) */
.navbar__toggle{
    display:none;background:none;border:none;color:var(--c-text);
    padding:var(--sp-2);margin-left:auto;
}

/* ---- Theme switcher (inside navbar__inner) ---- */
.theme-switch{
    display:flex;align-items:center;gap:var(--sp-2);
    margin-left:var(--sp-3);flex-shrink:0;
}
.theme-switch__label{
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    color:var(--c-text-muted);
    text-transform:uppercase;letter-spacing:.04em;
    display:none;  /* hidden on mobile, shown on wider */
}
@media(min-width:641px){
    .theme-switch__label{display:inline}
}
.theme-switch__select{
    padding:.3rem .55rem;padding-right:24px;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-md);
    font-size:var(--fs-xs);font-family:inherit;
    font-weight:var(--fw-medium);
    color:var(--c-text-secondary);
    background:var(--c-surface);
    cursor:pointer;
    appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%2394a3b8' stroke-width='1.5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:right 6px center;
    transition:all var(--t-fast);
    min-height:30px;
    line-height:1.3;
}
.theme-switch__select:hover{border-color:var(--c-text-muted)}
.theme-switch__select:focus{
    outline:2px solid var(--c-primary);outline-offset:0;
    border-color:var(--c-primary);
}

/* ==================== 6. Buttons ==================== */
.btn{
    display:inline-flex;align-items:center;justify-content:center;gap:var(--sp-2);
    font-weight:var(--fw-semibold);font-size:var(--fs-sm);
    border:none;border-radius:var(--r-lg);
    padding:.625rem 1.25rem;
    cursor:pointer;text-decoration:none;
    transition:all var(--t-fast);
    white-space:nowrap;
    min-height:42px;
    line-height:1.4;
    position:relative;
}
.btn--pill{border-radius:var(--r-full)}
.btn--lg{padding:.75rem 1.75rem;font-size:var(--fs-base);min-height:48px}
.btn--full{width:100%}
.btn--sm{padding:.4rem .9rem;font-size:var(--fs-xs);min-height:34px}

/* Primary */
.btn--primary{
    background:var(--grad-primary);color:#fff;
    box-shadow:0 2px 8px rgba(74,64,128,.25);
}
.btn--primary:hover{
    box-shadow:0 4px 14px rgba(74,64,128,.35);
    transform:translateY(-1px);filter:brightness(1.05);
}
.btn--primary:active{transform:translateY(0);box-shadow:var(--sh-sm)}

/* Outline */
.btn--outline{
    background:transparent;color:var(--c-text);
    border:1.5px solid var(--c-border);
}
.btn--outline:hover{
    border-color:var(--c-primary);color:var(--c-primary);
    background:var(--c-primary-light);
}

/* Ghost (text only) */
.btn--ghost{
    background:transparent;color:var(--c-text-secondary);
}
.btn--ghost:hover{background:var(--c-subtle);color:var(--c-text)}

/* Danger */
.btn--danger{
    background:var(--c-danger);color:#fff;
    padding:.4rem .9rem;font-size:var(--fs-xs);min-height:34px;
    border-radius:var(--r-md);
}
.btn--danger:hover{background:var(--c-danger-hover);transform:translateY(-1px)}
.btn--danger:active{transform:translateY(0)}

/* Icon-only button */
.btn--icon{
    width:36px;height:36px;padding:0;border-radius:var(--r-md);
    display:inline-flex;align-items:center;justify-content:center;
    background:var(--c-subtle);color:var(--c-text-secondary);border:none;
}
.btn--icon:hover{background:var(--c-border);color:var(--c-text)}
.btn--icon.btn--icon-edit:hover{background:var(--c-primary-light);color:var(--c-primary)}
.btn--icon.btn--icon-danger:hover{background:rgba(239,68,68,.1);color:var(--c-danger)}

/* ==================== 7. Pill / Badge ==================== */
.pill{
    display:inline-flex;align-items:center;gap:var(--sp-2);
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    padding:.35rem .85rem;
    border-radius:var(--r-full);
    line-height:1.3;
}
.pill--accent{
    background:var(--c-accent-light);color:var(--c-accent-hover);
}
.pill--primary{
    background:var(--c-primary-light);color:var(--c-primary-dark);
}
.pill--reading{background:rgba(74,64,128,.08);color:#4a4080}
.pill--finished{background:#e8f5ec;color:#2a9a60}
.pill--wishlist{background:rgba(191,155,90,.10);color:#a07830}

/* ==================== 8. Hero ==================== */
.hero{
    padding:var(--sp-16) 0 var(--sp-12);
    position:relative;z-index:1;
}
.hero__inner{
    display:grid;grid-template-columns:1fr 1fr;gap:var(--sp-12);
    align-items:center;
}
.hero__text{
    display:flex;flex-direction:column;gap:var(--sp-5);
    align-items:flex-start;
}
.hero__text .pill{
    align-self:flex-start;
    width:auto;
    max-width:fit-content;
}
.hero__title{
    font-size:clamp(var(--fs-3xl), 5vw, var(--fs-5xl));
    font-weight:var(--fw-extrabold);
    line-height:1.15;
    letter-spacing:-.03em;
    color:var(--c-text);
}
.hero__subtitle{
    font-size:var(--fs-lg);
    color:var(--c-text-secondary);
    line-height:1.7;
    max-width:480px;
}
.hero__cta{
    display:flex;gap:var(--sp-4);flex-wrap:wrap;
    margin-top:var(--sp-2);
}

/* Hero visual card */
.hero__visual{
    display:flex;justify-content:center;align-items:center;
}
.hero-card{
    background:var(--grad-hero);
    border-radius:var(--r-2xl);
    padding:var(--sp-10) var(--sp-8);
    color:#fff;width:100%;max-width:380px;
    box-shadow:var(--sh-xl);
    display:flex;flex-direction:column;gap:var(--sp-8);
    position:relative;overflow:hidden;
}
.hero-card::before{
    content:'';position:absolute;inset:0;
    background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.15), transparent 60%);
}
.hero-card__icons{
    display:flex;gap:var(--sp-4);opacity:.85;
    position:relative;z-index:1;
}
.hero-card__stat{
    position:relative;z-index:1;
    display:flex;flex-direction:column;gap:var(--sp-1);
}
.hero-card__number{
    font-size:var(--fs-5xl);font-weight:var(--fw-extrabold);
    line-height:1;letter-spacing:-.04em;
}
.hero-card__label{
    font-size:var(--fs-sm);opacity:.8;font-weight:var(--fw-medium);
    text-transform:lowercase;
}

/* ==================== 9. Features (Why choose) ==================== */
.features{
    padding:var(--sp-16) 0;
    text-align:center;position:relative;z-index:1;
}
.features .section-subtitle{margin:0 auto var(--sp-10)}
.features__grid{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:var(--sp-6);
}
.feature-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-8) var(--sp-6);
    text-align:left;
    box-shadow:var(--sh-sm);
    transition:all var(--t-base);
}
.feature-card[data-scroll-target]{cursor:pointer}
.feature-card:hover{
    transform:translateY(-4px);box-shadow:var(--sh-lg);
    border-color:var(--c-border);
}
.feature-card__icon{
    width:48px;height:48px;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-lg);
    background:var(--c-primary-light);color:var(--c-primary);
    margin-bottom:var(--sp-5);
}
.feature-card h3{
    font-size:var(--fs-lg);font-weight:var(--fw-semibold);
    margin-bottom:var(--sp-2);color:var(--c-text);
}
.feature-card p{
    font-size:var(--fs-sm);color:var(--c-text-secondary);line-height:1.65;
}

/* ==================== 9b. Section scroll-highlight ==================== */
.section-highlight{
    outline:2px solid rgba(74,64,128,.25);
    outline-offset:4px;
    box-shadow:0 0 0 6px rgba(74,64,128,.08);
    border-radius:var(--r-xl);
    transition:outline-color .35s var(--ease), box-shadow .35s var(--ease);
}

/* ==================== 10. Stats ==================== */
.stats{
    padding:var(--sp-12) 0;position:relative;z-index:1;
}
.stats__grid{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,260px),1fr));
    gap:var(--sp-5);
}
.stat-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-6);
    display:flex;align-items:center;gap:var(--sp-5);
    box-shadow:var(--sh-sm);
    transition:all var(--t-base);
    position:relative;overflow:hidden;
}
.stat-card::before{
    content:'';position:absolute;left:0;top:0;bottom:0;width:4px;
    background:var(--grad-primary);border-radius:0 2px 2px 0;
}
.stat-card:hover{
    transform:translateY(-3px);box-shadow:var(--sh-card-hover);
    border-color:var(--c-border);
}
.stat-card__icon{
    width:48px;height:48px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-lg);
    background:var(--c-primary-light);color:var(--c-primary);
}
.stat-card__icon--pages{background:var(--c-accent-light);color:var(--c-accent)}
.stat-card__icon--progress{background:rgba(74,64,128,.10);color:#5a4e96}
.stat-card__body{display:flex;flex-direction:column;gap:var(--sp-1)}
.stat-card__value{
    font-size:var(--fs-3xl);font-weight:var(--fw-bold);
    line-height:1.1;letter-spacing:-.02em;color:var(--c-text);
}
.stat-card__label{
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    text-transform:uppercase;letter-spacing:.05em;
    color:var(--c-text-muted);
}

/* ==================== 10b. Goal & Streak Row ==================== */
.goal-row{
    display:grid;
    grid-template-columns:1fr auto;
    gap:var(--sp-5);
    margin-top:var(--sp-6);
    align-items:stretch;
}

/* — Goal card — */
.goal-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-5) var(--sp-6);
    box-shadow:var(--sh-sm);
    display:flex;flex-direction:column;gap:var(--sp-4);
    transition:all var(--t-base);
    position:relative;overflow:hidden;
}
.goal-card::before{
    content:'';position:absolute;left:0;top:0;bottom:0;width:4px;
    background:var(--grad-primary);border-radius:0 2px 2px 0;
}
.goal-card:hover{
    transform:translateY(-2px);box-shadow:var(--sh-card-hover);
}
.goal-card__header{
    display:flex;align-items:center;gap:var(--sp-4);
}
.goal-card__icon{
    width:42px;height:42px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-lg);
    background:var(--c-primary-light);color:var(--c-primary);
}
.goal-card__info{
    display:flex;flex-direction:column;gap:2px;
}
.goal-card__label{
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    text-transform:uppercase;letter-spacing:.05em;
    color:var(--c-text-muted);
}
.goal-card__value{
    font-size:var(--fs-lg);font-weight:var(--fw-bold);
    color:var(--c-text);letter-spacing:-.01em;
}
.goal-card__bar{
    display:flex;align-items:center;gap:var(--sp-3);
}
.goal-card__bar .progress-bar{flex:1}
.goal-card__pct{
    font-size:var(--fs-xs);font-weight:var(--fw-bold);
    color:var(--c-primary);min-width:36px;text-align:right;
}

/* Goal progress bar (slightly taller) */
.progress-bar--goal{height:10px}
.progress-fill--goal{
    background:var(--grad-primary);
    transition:width var(--t-slow);
}

/* — Streak card — */
.streak-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-5) var(--sp-6);
    box-shadow:var(--sh-sm);
    display:flex;align-items:center;gap:var(--sp-4);
    transition:all var(--t-base);
    min-width:140px;
    position:relative;overflow:hidden;
}
.streak-card::before{
    content:'';position:absolute;left:0;top:0;bottom:0;width:4px;
    background:linear-gradient(135deg,#bf9b5a,#a07830);border-radius:0 2px 2px 0;
}
.streak-card:hover{
    transform:translateY(-2px);
    box-shadow:0 14px 36px rgba(191,155,90,.14);
}
.streak-card__icon{
    width:42px;height:42px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-lg);
    background:rgba(191,155,90,.12);color:#a07830;
}
.streak-card__body{
    display:flex;flex-direction:column;gap:2px;
}
.streak-card__value{
    font-size:var(--fs-3xl);font-weight:var(--fw-bold);
    line-height:1.1;letter-spacing:-.02em;color:var(--c-text);
}
.streak-card__label{
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    text-transform:uppercase;letter-spacing:.05em;
    color:var(--c-text-muted);
}

/* Stats header actions group */
.stats__header-actions{
    display:flex;align-items:center;gap:var(--sp-3);
}

/* Small ghost pill button */
.btn--sm{
    padding:.4rem .85rem;
    font-size:var(--fs-xs);
    gap:var(--sp-1);
}

/* Small modal variant */
.modal-card--sm{max-width:380px}

/* ==================== 10c. Top Books This Week ==================== */
.top-books{
    padding:var(--sp-10) 0;
    position:relative;z-index:1;
}
.top-books .section-subtitle{margin-bottom:var(--sp-6)}

.top-books__list{
    display:flex;flex-direction:column;gap:var(--sp-3);
}

.top-book-item{
    display:flex;align-items:center;gap:var(--sp-4);
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-4) var(--sp-5);
    box-shadow:var(--sh-sm);
    transition:all var(--t-fast);
}
.top-book-item:hover{
    box-shadow:var(--sh-md);
    border-color:var(--c-border);
}

.top-book-item__rank{
    width:32px;height:32px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-md);
    background:var(--c-primary-light);color:var(--c-primary);
    font-size:var(--fs-sm);font-weight:var(--fw-bold);
}
/* Gold / silver / bronze accents for top 3 */
.top-book-item:nth-child(1) .top-book-item__rank{
    background:rgba(191,155,90,.12);color:#a07830;
}
.top-book-item:nth-child(2) .top-book-item__rank{
    background:rgba(210,200,185,.30);color:#6b6580;
}
.top-book-item:nth-child(3) .top-book-item__rank{
    background:rgba(180,100,100,.10);color:#a05050;
}

.top-book-item__body{
    flex:1;min-width:0;
    display:flex;flex-direction:column;gap:var(--sp-2);
}
.top-book-item__header{
    display:flex;align-items:center;justify-content:space-between;
    gap:var(--sp-3);
}
.top-book-item__title{
    font-size:var(--fs-base);font-weight:var(--fw-semibold);
    color:var(--c-text);
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.top-book-item__pages{
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    color:var(--c-primary);
    background:var(--c-primary-light);
    padding:2px 8px;border-radius:var(--r-full);
    white-space:nowrap;flex-shrink:0;
}

/* Tiny progress bar for share visualisation */
.progress-bar--top{height:6px}
.progress-fill--top{
    background:var(--grad-primary);
    transition:width var(--t-slow);
}

/* ==================== 10d. Challenges ==================== */
.challenges{
    padding:var(--sp-10) 0;
    position:relative;z-index:1;
}
.challenges .section-subtitle{margin-bottom:var(--sp-6)}

.challenges__grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(min(100%,320px),1fr));
    gap:var(--sp-5);
}

.challenge-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-5) var(--sp-6);
    box-shadow:var(--sh-sm);
    display:flex;flex-direction:column;gap:var(--sp-4);
    transition:all var(--t-base);
    position:relative;overflow:hidden;
}
.challenge-card::before{
    content:'';position:absolute;left:0;top:0;bottom:0;width:4px;
    background:var(--grad-primary);border-radius:0 2px 2px 0;
}
.challenge-card:hover{
    transform:translateY(-2px);box-shadow:var(--sh-card-hover);
    border-color:var(--c-border);
}
.challenge-card--done{
    border-color:rgba(61,184,120,.2);
}
.challenge-card--done::before{
    background:linear-gradient(135deg,#3db878,#2a9a60);
}

.challenge-card__header{
    display:flex;align-items:flex-start;gap:var(--sp-4);
}
.challenge-card__icon{
    width:42px;height:42px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-lg);
    background:var(--c-primary-light);color:var(--c-primary);
}
.challenge-card__icon--streak{
    background:rgba(191,155,90,.12);color:#a07830;
}
.challenge-card__info{
    flex:1;min-width:0;
    display:flex;flex-direction:column;gap:2px;
}
.challenge-card__title{
    font-size:var(--fs-base);font-weight:var(--fw-bold);
    color:var(--c-text);
}
.challenge-card__desc{
    font-size:var(--fs-xs);color:var(--c-text-muted);
    line-height:1.5;
}

.challenge-card__progress{
    display:flex;flex-direction:column;gap:var(--sp-2);
}
.challenge-card__progress-info{
    display:flex;align-items:center;justify-content:space-between;
    font-size:var(--fs-sm);color:var(--c-text-secondary);
}
.challenge-card__pct{
    font-size:var(--fs-xs);font-weight:var(--fw-bold);
    color:var(--c-primary);
}

.progress-bar--challenge{height:8px}
.progress-fill--challenge{
    background:var(--grad-primary);
    transition:width var(--t-slow);
}
.progress-fill--done{
    background:linear-gradient(135deg,#3db878,#2a9a60);
}

/* ==================== 11. Books Section ==================== */
.books{
    padding:var(--sp-12) 0 var(--sp-16);position:relative;z-index:1;
}
.books__header{
    display:flex;align-items:flex-end;justify-content:space-between;
    gap:var(--sp-4);margin-bottom:var(--sp-8);flex-wrap:wrap;
}
.books__header .section-subtitle{margin-top:var(--sp-1)}

/* ==================== 11b. Books Toolbar ==================== */
.books-toolbar{
    display:flex;align-items:center;gap:var(--sp-3);
    margin-bottom:var(--sp-6);flex-wrap:wrap;
}

.books-toolbar__search{
    position:relative;flex:1;min-width:180px;
}
.books-toolbar__search-icon{
    position:absolute;left:12px;top:50%;transform:translateY(-50%);
    color:var(--c-text-muted);pointer-events:none;
}
.books-toolbar__input{
    width:100%;
    padding:.6rem .85rem .6rem 36px;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-lg);
    font-size:var(--fs-sm);font-family:inherit;
    color:var(--c-text);background:var(--c-surface);
    transition:all var(--t-fast);
}
.books-toolbar__input::placeholder{color:var(--c-text-muted)}
.books-toolbar__input:hover{border-color:var(--c-text-muted)}
.books-toolbar__input:focus{
    outline:2px solid var(--c-primary);outline-offset:0;
    border-color:var(--c-primary);
    box-shadow:0 0 0 4px rgba(74,64,128,.12);
}

.books-toolbar__select{
    padding:.6rem .85rem;padding-right:32px;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-lg);
    font-size:var(--fs-sm);font-family:inherit;
    color:var(--c-text);background:var(--c-surface);
    cursor:pointer;
    appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2394a3b8' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:right 10px center;
    transition:all var(--t-fast);
}
.books-toolbar__select:hover{border-color:var(--c-text-muted)}
.books-toolbar__select:focus{
    outline:2px solid var(--c-primary);outline-offset:0;
    border-color:var(--c-primary);
    box-shadow:0 0 0 4px rgba(74,64,128,.12);
}

/* ==================== 12. Books Grid ==================== */
.books-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(min(100%,320px),1fr));
    gap:var(--sp-6);
    align-items:start;
}

/* ==================== 13. Book Card ==================== */
.book-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    overflow:hidden;
    box-shadow:var(--sh-sm);
    transition:all var(--t-base);
    display:flex;flex-direction:column;
    position:relative;
}
.book-card:hover{
    transform:translateY(-4px);
    box-shadow:var(--sh-card-hover);
    border-color:var(--c-border);
}

/* Top gradient stripe */
.book-card__top{
    height:6px;background:var(--grad-primary);flex-shrink:0;
}

/* Card body */
.book-card__body{
    padding:var(--sp-6);display:flex;flex-direction:column;gap:var(--sp-4);flex:1;
}

/* Header: title + author + delete */
.book-card__header{
    display:flex;justify-content:space-between;align-items:flex-start;gap:var(--sp-3);
}
.book-card__info{flex:1;min-width:0}
.book-card__title{
    font-size:var(--fs-lg);font-weight:var(--fw-semibold);
    color:var(--c-text);line-height:1.35;letter-spacing:-.01em;
    word-wrap:break-word;overflow-wrap:break-word;
    margin-bottom:var(--sp-1);
}
.book-card__author{
    font-size:var(--fs-sm);color:var(--c-text-secondary);
    font-weight:var(--fw-medium);
}

/* Status badge on card */
.book-card__badge{
    position:absolute;top:var(--sp-4);right:var(--sp-4);
}

/* Progress area */
.book-card__progress{
    display:flex;flex-direction:column;gap:var(--sp-2);
}
.book-card__progress-info{
    display:flex;justify-content:space-between;align-items:center;
    font-size:var(--fs-xs);font-weight:var(--fw-medium);color:var(--c-text-secondary);
}
.book-card__progress-input{
    width:62px;padding:.3rem .4rem;
    border:1px solid var(--c-border);border-radius:var(--r-sm);
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    text-align:center;color:var(--c-text);
    background:var(--c-subtle);
    transition:all var(--t-fast);
}
.book-card__progress-input:focus{
    outline:2px solid var(--c-primary);outline-offset:1px;
    border-color:var(--c-primary);background:var(--c-surface);
}

/* Progress bar */
.progress-bar{
    width:100%;height:8px;
    background:var(--c-subtle);border-radius:var(--r-full);
    overflow:hidden;position:relative;
}
.progress-fill{
    height:100%;border-radius:var(--r-full);
    background:var(--grad-primary);
    transition:width var(--t-slow);
    min-width:0;
}
.book-card__pct{
    font-size:var(--fs-xs);font-weight:var(--fw-bold);color:var(--c-primary);
}

/* Notes */
.book-card__notes{
    background:var(--c-subtle);
    padding:var(--sp-4);border-radius:var(--r-md);
    border-left:3px solid var(--c-primary-light);
    font-style:italic;font-size:var(--fs-sm);
    color:var(--c-text-secondary);line-height:1.65;
    word-wrap:break-word;overflow-wrap:break-word;
}

/* Card footer */
.book-card__footer{
    display:flex;justify-content:flex-end;gap:var(--sp-2);
    padding-top:var(--sp-3);border-top:1px solid var(--c-border-light);
    margin-top:auto;
}

/* ==================== 14. Empty State ==================== */
.empty-state{
    text-align:center;padding:var(--sp-16) var(--sp-8);
    grid-column:1/-1;
    background:var(--c-surface);border-radius:var(--r-2xl);
    border:2px dashed var(--c-border);
}
.empty-state__icon{
    font-size:3rem;margin-bottom:var(--sp-4);display:block;
}
.empty-state__title{
    font-size:var(--fs-xl);font-weight:var(--fw-semibold);
    color:var(--c-text-secondary);margin-bottom:var(--sp-2);
}
.empty-state__text{
    font-size:var(--fs-base);color:var(--c-text-muted);
    margin-bottom:var(--sp-6);max-width:360px;margin-inline:auto;
}

/* ==================== 15. Form / Auth Card ==================== */
.form-page{
    padding:var(--sp-12) 0 var(--sp-16);
    position:relative;z-index:1;
}
.form-page__inner{
    max-width:560px;margin:0 auto;
}
.auth-card{
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-2xl);
    box-shadow:var(--sh-lg);
    padding:var(--sp-10);
    position:relative;overflow:hidden;
}
.auth-card::before{
    content:'';position:absolute;top:0;left:0;right:0;
    height:5px;background:var(--grad-primary);
}
.auth-card__header{
    text-align:center;margin-bottom:var(--sp-8);
}
.auth-card__icon{
    color:var(--c-primary);margin:0 auto var(--sp-4);
}
.auth-card__title{
    font-size:var(--fs-2xl);font-weight:var(--fw-bold);
    color:var(--c-text);letter-spacing:-.02em;margin-bottom:var(--sp-2);
}
.auth-card__subtitle{
    font-size:var(--fs-sm);color:var(--c-text-secondary);line-height:1.6;
}

.auth-form{display:flex;flex-direction:column;gap:var(--sp-5)}

.form-group{display:flex;flex-direction:column;gap:var(--sp-2)}
.form-group label{
    font-size:var(--fs-sm);font-weight:var(--fw-semibold);color:var(--c-text);
}
.form-group label small{
    font-weight:var(--fw-normal);color:var(--c-text-muted);
}

/* Standard inputs */
.form-group input,
.form-group textarea{
    width:100%;
    padding:.7rem 1rem;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-lg);
    font-size:var(--fs-base);font-family:inherit;
    color:var(--c-text);background:var(--c-surface);
    transition:all var(--t-fast);
    min-height:48px;
}

/* Input with left icon — must come AFTER standard inputs to override padding */
.input-icon-wrap{
    position:relative;
}
.input-icon{
    position:absolute;left:14px;top:50%;transform:translateY(-50%);
    color:var(--c-text-muted);pointer-events:none;
    transition:color var(--t-fast);
    z-index:1;
    line-height:0; /* collapse SVG line-height to avoid layout shift */
}
.input-icon-wrap input{
    width:100%;
    padding:.7rem 1rem .7rem 48px;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-lg);
    font-size:var(--fs-base);font-family:inherit;
    color:var(--c-text);background:var(--c-surface);
    transition:all var(--t-fast);
    min-height:48px;
}
.input-icon-wrap:focus-within .input-icon{color:var(--c-primary)}
.form-group input:hover,
.form-group textarea:hover,
.input-icon-wrap input:hover{
    border-color:var(--c-text-muted);
}
.form-group input:focus,
.form-group textarea:focus,
.input-icon-wrap input:focus{
    outline:2px solid var(--c-primary);outline-offset:0;
    border-color:var(--c-primary);
    box-shadow:0 0 0 4px rgba(74,64,128,.12);
}
.form-group input::placeholder,
.form-group textarea::placeholder,
.input-icon-wrap input::placeholder{color:var(--c-text-light)}

.form-group textarea{resize:vertical;min-height:110px;border-radius:var(--r-lg)}

.char-counter{
    font-size:var(--fs-xs);color:var(--c-text-muted);text-align:right;
}

.form-row{
    display:grid;grid-template-columns:1fr 1fr;gap:var(--sp-4);
}
.form-row > *{min-width:0}

.form-actions{
    display:flex;flex-direction:column;gap:var(--sp-3);
    margin-top:var(--sp-3);
}

/* ==================== 15a. Stats Header ==================== */
.stats__header{
    display:flex;align-items:center;justify-content:space-between;
    gap:var(--sp-4);margin-bottom:var(--sp-6);flex-wrap:wrap;
}

/* ==================== 15b. Modal ==================== */
.modal-overlay{
    position:fixed;inset:0;z-index:2000;
    display:flex;align-items:center;justify-content:center;
    background:rgba(15,23,42,.45);
    backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);
    padding:var(--sp-4);
    transition:opacity var(--t-base);
}
.modal-overlay[hidden]{display:none}

.modal-card{
    background:var(--c-surface);
    border-radius:var(--r-2xl);
    box-shadow:var(--sh-xl);
    width:100%;max-width:460px;
    position:relative;overflow:hidden;
    animation:modalIn var(--t-base) both;
}
@keyframes modalIn{
    from{opacity:0;transform:translateY(12px) scale(.97)}
    to{opacity:1;transform:translateY(0) scale(1)}
}
.modal-card__top{
    height:5px;background:var(--grad-primary);
}
.modal-card__header{
    display:flex;align-items:center;justify-content:space-between;
    padding:var(--sp-6) var(--sp-6) 0;
}
.modal-card__title{
    font-size:var(--fs-xl);font-weight:var(--fw-bold);
    color:var(--c-text);letter-spacing:-.01em;
}
.modal-card__body{
    padding:var(--sp-6);
    display:flex;flex-direction:column;gap:var(--sp-5);
}

/* Modal select */
.modal-select{
    width:100%;
    padding:.7rem 1rem;
    border:1.5px solid var(--c-border);
    border-radius:var(--r-lg);
    font-size:var(--fs-base);font-family:inherit;
    color:var(--c-text);background:var(--c-surface);
    transition:all var(--t-fast);
    min-height:48px;
    cursor:pointer;
    appearance:none;
    background-image:url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%2394a3b8' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position:right 14px center;
    padding-right:40px;
}
.modal-select:hover{border-color:var(--c-text-muted)}
.modal-select:focus{
    outline:2px solid var(--c-primary);outline-offset:0;
    border-color:var(--c-primary);
    box-shadow:0 0 0 4px rgba(74,64,128,.12);
}

/* Field-level error */
.field-error{
    font-size:var(--fs-xs);
    color:var(--c-danger);
    min-height:0;
    transition:all var(--t-fast);
}
.field-error:empty{display:none}

/* ==================== 15c. Toast ==================== */
.toast{
    position:fixed;bottom:var(--sp-8);left:50%;
    transform:translateX(-50%) translateY(20px);
    background:var(--c-text);color:#fff;
    font-size:var(--fs-sm);font-weight:var(--fw-semibold);
    padding:var(--sp-3) var(--sp-6);
    border-radius:var(--r-full);
    box-shadow:var(--sh-lg);
    opacity:0;pointer-events:none;
    transition:all var(--t-base);
    z-index:3000;
    white-space:nowrap;
}
.toast--visible{
    opacity:1;
    transform:translateX(-50%) translateY(0);
    pointer-events:auto;
}

/* ==================== 15d. Activity Feed ==================== */
.activity{
    padding:var(--sp-12) 0 var(--sp-16);
    position:relative;z-index:1;
}
.activity .section-subtitle{margin-bottom:var(--sp-6)}

.activity__feed{
    display:flex;flex-direction:column;gap:var(--sp-3);
}

.activity-item{
    display:flex;align-items:center;gap:var(--sp-3);
    background:var(--c-surface);
    border:1px solid var(--c-border-light);
    border-radius:var(--r-xl);
    padding:var(--sp-4) var(--sp-5);
    box-shadow:var(--sh-sm);
    transition:all var(--t-fast);
}
.activity-item:hover{
    box-shadow:var(--sh-md);
    border-color:var(--c-border);
}

.activity-item__icon{
    width:36px;height:36px;flex-shrink:0;
    display:flex;align-items:center;justify-content:center;
    border-radius:var(--r-md);
    background:var(--c-primary-light);color:var(--c-primary);
}

.activity-item__body{
    flex:1;min-width:0;
}
.activity-item__title{
    font-size:var(--fs-sm);font-weight:var(--fw-semibold);
    color:var(--c-text);
    display:flex;align-items:center;gap:var(--sp-2);flex-wrap:wrap;
    line-height:1.4;
}
.activity-item__title strong{
    font-weight:var(--fw-bold);
}
.activity-item__note{
    font-weight:var(--fw-normal);
    color:var(--c-text-muted);
    font-size:var(--fs-xs);
}
.activity-item__meta{
    font-size:var(--fs-xs);color:var(--c-text-muted);
    margin-top:2px;
    line-height:1.4;
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}

.activity-item__day{
    flex-shrink:0;
    font-size:var(--fs-xs);font-weight:var(--fw-semibold);
    color:var(--c-text-secondary);
    white-space:nowrap;
    padding:2px 8px;
    border-radius:var(--r-full);
    background:var(--c-subtle);
}

.activity-item__actions{
    display:flex;align-items:center;gap:var(--sp-1);
    flex-shrink:0;
}

.activity-item__edit,
.activity-item__delete{
    flex-shrink:0;
}

/* Compact empty state for activity feed */
.empty-state--compact{
    padding:var(--sp-10) var(--sp-6);
}

/* ==================== 16. Footer ==================== */
.footer{
    text-align:center;padding:var(--sp-8) 0;
    border-top:1px solid var(--c-border-light);
    position:relative;z-index:1;
}
.footer__inner{
    font-size:var(--fs-xs);color:var(--c-text-muted);
}

/* ==================== 17. Responsive ==================== */

/* ---- Mobile ≤ 640px ---- */
@media(max-width:640px){
    :root{--container-pad:1rem}

    /* Navbar mobile */
    .navbar__links,.navbar__actions{display:none}
    .navbar__toggle{display:flex}
    .theme-switch{margin-left:auto}
    .navbar.is-open .navbar__links,
    .navbar.is-open .navbar__actions{
        display:flex;flex-direction:column;
        position:absolute;top:var(--navbar-h);left:0;right:0;
        background:var(--c-surface);
        border-bottom:1px solid var(--c-border);
        box-shadow:var(--sh-md);
        padding:var(--sp-4) var(--container-pad);
        gap:var(--sp-3);
    }
    .navbar.is-open .navbar__links{padding-bottom:0}
    .navbar.is-open .navbar__actions{padding-top:0}
    .navbar.is-open .navbar__actions .btn{width:100%}

    /* Hero stacks */
    .hero{padding:var(--sp-10) 0 var(--sp-8)}
    .hero__inner{grid-template-columns:1fr;gap:var(--sp-8);text-align:center}
    .hero__text{align-items:center}
    .hero__text .pill{align-self:center}
    .hero__subtitle{margin-inline:auto}
    .hero__cta{justify-content:center}
    .hero__cta .btn{width:100%}
    .hero-card{max-width:300px;margin:0 auto}

    /* Features */
    .features__grid{grid-template-columns:1fr}

    /* Stats */
    .stats__header{flex-direction:column;align-items:flex-start}
    .stats__header-actions{width:100%;justify-content:space-between}
    .stats__grid{grid-template-columns:1fr}
    .goal-row{grid-template-columns:1fr}
    .streak-card{min-width:0}

    /* Books */
    .books__header{flex-direction:column;align-items:flex-start}
    .books-toolbar{flex-direction:column;align-items:stretch}
    .books-toolbar__search{min-width:0}
    .books-toolbar__select{width:100%}
    .books-grid{grid-template-columns:1fr}

    /* Modal */
    .modal-card{max-width:100%}

    /* Activity feed mobile */
    .activity-item{flex-wrap:wrap;gap:var(--sp-2)}
    .activity-item__day{order:10;margin-left:auto}

    /* Form */
    .form-row{grid-template-columns:1fr}
    .auth-card{padding:var(--sp-6)}
}

/* ---- Tablet 641–1023px ---- */
@media(min-width:641px) and (max-width:1023px){
    :root{--container-pad:1.5rem}

    .hero__inner{grid-template-columns:1fr 1fr;gap:var(--sp-8)}
    .hero-card{max-width:320px}
    .books-grid{grid-template-columns:repeat(2,1fr)}
}

/* ---- Desktop 1024+ ---- */
@media(min-width:1024px){
    :root{--container-pad:2rem}
    .books-grid{grid-template-columns:repeat(3,1fr)}
    .btn--add-mobile{display:inline-flex}
}

/* ---- Large desktop 1440+ ---- */
@media(min-width:1440px){
    :root{--container-pad:2.5rem;--container-max:1200px}
}

/* ==================== 18. Accessibility ==================== */
@media(prefers-contrast:high){
    :root{
        --c-border:#475569;
        --sh-sm:0 2px 4px rgba(0,0,0,.15);
        --sh-md:0 4px 8px rgba(0,0,0,.15);
    }
    .btn:focus-visible{outline-width:3px}
}

/* ==================== 19. Print ==================== */
@media print{
    .navbar,.bg-blobs,.hero__visual,.footer,.modal-overlay,.toast{display:none}
    .hero{padding:var(--sp-4) 0}
    .book-card{break-inside:avoid;box-shadow:none;border:1px solid #ccc}
}
